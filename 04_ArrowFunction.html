<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_ArrowFunction.html</title>
</head>
<body>

    <h3>Press F12</h3>

    <script>
        // Arrow Function
        const sayHello = () => `안녕하세요 반갑습니다.`;

        // Arrow Function의 인자가 하나인 경우 ()를 생략할 수 있다
        const sayHello2 = myName => `안녕하세요 ${myName}입니다.`;

        // Arrow Function의 인자가 두 개 이상인 경우 ()를 생략할 수 없다
        const sayHello3 = (myName, myAge) =>
            `안녕하세요 ${myName}입니다. 나이는 ${myAge}살 입니다.`;

        // Arrow Function에서 Object를 리턴하고 싶은 경우 ()로 감싸줘야 한다
        const person = (myName, myAge) => ({
            name: myName,
            age: myAge
        });
        
        console.log(sayHello());
        console.log(sayHello2('김민호'));
        console.log(sayHello3('최민호', 23));
        console.log(person('이민호', 45));
        
        // function은 내부에 새로운 영역을 생성한다 (this를 새로 바인딩한다)
        // 심지어 내부의 콜백 함수가 잡히는 것도 아니고 Window 객체가 잡힌다
        // (자바스크립트의 설계 오류)
        const line1 = {
            stations: ['노량진', '용산', '남영', '서울역', '종각', '시청'],
            print: function(delay=1000) {
                setTimeout(function() {
                        console.log(this.stations.join('/'));
                        // console.dir(this); // 뜬금없이 Window가 나온다
                    }, delay);
            }
        };
        // error : 콜백함수의 this는 해당 function 내부를 가리킴
        line1.print();
       
        // Arrow Function을 사용하면 새로운 영역을 바인딩하지 않기 때문에
        // 의도대로 stations를 사용할 수 있다
        const line7 = {
            stations: ['장승배기', '상도', '숭실대입구', '총신대입구', '이수'],
            print: function(delay=1000) {
                setTimeout(() => {
                        console.log(this.stations.join('/'));
                }, delay);
            }
        };
        line7.print();

        // 다양한 자바스크립트의 오류들을 해결하기 위한 새로운 문법들은
        // 옛날 웹 브라우저에서 동작하지 않을 가능성이 있다

        // https://babeljs.io/

        // 바벨이라는 자바스크립트 컴파일 도구를 사용해 
        // 더 많은 웹 브라우저가 이해할 수 있도록 자바스크립트 구문을 변환해준다

    </script>
</body>
</html>